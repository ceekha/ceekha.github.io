<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Billing</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script>
      function printBill(form) {

        var product = "Product ID  : ".concat(form["productId"].value);
        var puchase = "Quantity Purchased : ".concat(form["quantity"].value);
        var total = "Total Value : Rs.".concat(form["totalValue"].value," (",form["quantity"].value," X ", form["price"].value,")");
        var dat = "Date : ".concat(form["date"].value);
        var mob = "Mobile : ".concat(form["mobileNum"].value);
        var emai = "Email : ".concat(form["email"].value);
        var frm = "From : ".concat(form["from"].value);
        var two = "To : ".concat(form['to'].value);
        var serial = "Sequence : ".concat(parseInt(Math.random() * Math.floor(999999)));
        const doc = new jsPDF();
        doc.text("IWP ASSIGNMENT BILL", 85, 10)
        doc.text(product, 30, 30);
        doc.text(puchase , 30, 40);
        doc.text(total , 30, 50);
        doc.text(dat , 30, 60);
        doc.text(mob , 30, 70);
        doc.text(emai , 30, 80);
        doc.text(frm, 20, 100);
        doc.text(two, 20, 110);
        doc.text(serial, 20, 120);


        doc.save("apple.pdf"); // will save the file in the current working directory
        return true;
      }
    </script>
  </head>
  <body>

    <div class="header">
      <h1>Confirmation and Printing Corner</h1>
    </div>
    
    
    <div class="row">
      <div class="main">
        <div class="container">
          <form onsubmit="event.preventDefault();printBill(this)">
            <label
              >Product ID:
              <input type="text" name="productId" />
            </label>
            <label
              >Product Name:
              <input type="text" name="productName" />
            </label>
            <label>Quantity:
              <select type="" name="quantity">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
              </select>
            </label>
            <br />
            <label>Price: <input type="number" name="price" /></label>
            <label>Total Value: <input type="number" name="totalValue" /></label>
            <label
              >Date of Purchase:
              <input type="text" placeholder="DD/MM/YYYY" name="date"
            /></label>
            <label>Mobile Number: <input type="text" name="mobileNum" /></label>
            <label>Email: <input type="text" name="email" /></label>
            <label>From: <input type="text" name="from" /></label>
            <label>To: <input type="text" name="to" /></label>

            <input type="submit" name="Print Bill"></button>
            <br>
                  </div> 
      </div>
    </div>
    
    <div class="footer">
      <h2>2020</h2>
    </div>
    
    <script src="length.js">
    </script>
    <script>
        document.getElementsByName('productId')[0].value = sessionStorage.getItem('productId');
        document.getElementsByName('productName')[0].value = sessionStorage.getItem('productName');
        document.getElementsByName('quantity')[0].value = sessionStorage.getItem('quantity');
        document.getElementsByName('price')[0].value = sessionStorage.getItem('price');
        document.getElementsByName('totalValue')[0].value = sessionStorage.getItem('totalValue');
        document.getElementsByName('date')[0].value = sessionStorage.getItem('date');
        document.getElementsByName('date')[0].value = sessionStorage.getItem('date');
        document.getElementsByName('mobileNum')[0].value = sessionStorage.getItem('mobileNum');
        document.getElementsByName('email')[0].value = sessionStorage.getItem('email');
    </script>
    </body>
</html>
